{"version":3,"file":"index-DgRuIAmg.js","sources":["../scripts/theme_handler.js","../scripts/index.js","../index.html?html-proxy&index=1.js"],"sourcesContent":["const Theme = Object.freeze({\n  Dark: 'dark',\n  Light: 'light',\n});\n\nconst node = document.querySelector('html');\nconst toggle_container = document.querySelector('.theme-toggle');\nconst toggle_button = toggle_container.querySelector('button');\n\nconst addClass = (cls) => node.classList.add(cls);\nconst containsClass = (cls) => node.classList.contains(cls);\nconst removeClass = (cls) => node.classList.remove(cls);\nexport const onResizeCallback = (mobile) => {\n  is_mobile = mobile;\n  updateButtonLabel(toggle_button);\n};\n\nlet is_mobile = false;\n\nfunction toggleTheme(theme) {\n  if (theme === Theme.Light) {\n    removeClass(Theme.Dark);\n    addClass(Theme.Light);\n  } else {\n    removeClass(Theme.Light);\n    addClass(Theme.Dark);\n  }\n  window.localStorage.setItem('theme', theme);\n}\n\nfunction updateButtonLabel(btn) {\n  if (!btn) return;\n  const suffix = is_mobile ? '' : ' mode';\n  btn.textContent = containsClass(Theme.Light) ? `dark${suffix}` : `light${suffix}`;\n}\n\nexport function initThemeHandler() {\n  updateButtonLabel(toggle_button);\n\n  toggle_button.addEventListener('click', (evt) => {\n    evt.preventDefault();\n    if (containsClass(Theme.Light)) toggleTheme(Theme.Dark);\n    else toggleTheme(Theme.Light);\n    updateButtonLabel(toggle_button);\n  });\n\n  toggle_container.classList.remove('invisible');\n}\n\nexport function loadSavedTheme() {\n  const saved_theme = window.localStorage.getItem('theme');\n  if (saved_theme) toggleTheme(saved_theme);\n  // Don't want themes being inadvertently swapped if the user's browser doesn't support\n  // the `window.matchMedia` method, so explicitly check for each match.\n  else if (window.matchMedia('(prefers-color-scheme: dark)')?.matches) toggleTheme(Theme.Dark);\n  else if (window.matchMedia('(prefers-color-scheme: light)')?.matches) toggleTheme(Theme.Light);\n}\n","import { initThemeHandler, onResizeCallback } from './theme_handler.js';\n\n/**\n * Set up a window resize listener that adjusts the page header's\n * font size to fit the width of the page if the header is too big.\n */\nfunction initTitleResizeListener() {\n  const title = document.querySelector('.title');\n  if (!title) return;\n\n  const observer = new ResizeObserver(() => {\n    if (window.innerWidth < 768) {\n      if (title.style !== undefined) {\n        title.style.fontSize = `${title.offsetWidth * 0.75}%`;\n      }\n      onResizeCallback(true);\n    } else {\n      title.style.fontSize = undefined;\n      onResizeCallback(false);\n    }\n  });\n\n  observer.observe(document.body);\n\n  onResizeCallback(window.innerWidth < 768);\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initTitleResizeListener();\n  initThemeHandler();\n});\n","\n      // Loading the saved theme by blocking the DOM's rendering prevents flashing the incorrect theme\n      import { loadSavedTheme } from './scripts/theme_handler.js';\n      loadSavedTheme();\n    "],"names":["Theme","node","toggle_container","toggle_button","addClass","cls","containsClass","removeClass","onResizeCallback","mobile","is_mobile","updateButtonLabel","toggleTheme","theme","btn","suffix","initThemeHandler","evt","loadSavedTheme","saved_theme","_a","_b","initTitleResizeListener","title"],"mappings":"ssBAAA,MAAMA,EAAQ,OAAO,OAAO,CAC1B,KAAM,OACN,MAAO,OACT,CAAC,EAEKC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAmB,SAAS,cAAc,eAAe,EACzDC,EAAgBD,EAAiB,cAAc,QAAQ,EAEvDE,EAAYC,GAAQJ,EAAK,UAAU,IAAII,CAAG,EAC1CC,EAAiBD,GAAQJ,EAAK,UAAU,SAASI,CAAG,EACpDE,EAAeF,GAAQJ,EAAK,UAAU,OAAOI,CAAG,EACzCG,EAAoBC,GAAW,CAC1CC,EAAYD,EACZE,EAAkBR,CAAa,CACjC,EAEA,IAAIO,EAAY,GAEhB,SAASE,EAAYC,EAAO,CACtBA,IAAUb,EAAM,OAClBO,EAAYP,EAAM,IAAI,EACtBI,EAASJ,EAAM,KAAK,IAEpBO,EAAYP,EAAM,KAAK,EACvBI,EAASJ,EAAM,IAAI,GAErB,OAAO,aAAa,QAAQ,QAASa,CAAK,CAC5C,CAEA,SAASF,EAAkBG,EAAK,CAC9B,GAAI,CAACA,EAAK,OACV,MAAMC,EAASL,EAAY,GAAK,QAChCI,EAAI,YAAcR,EAAcN,EAAM,KAAK,EAAI,OAAOe,CAAM,GAAK,QAAQA,CAAM,EACjF,CAEO,SAASC,GAAmB,CACjCL,EAAkBR,CAAa,EAE/BA,EAAc,iBAAiB,QAAUc,GAAQ,CAC/CA,EAAI,eAAc,EACdX,EAAcN,EAAM,KAAK,EAAGY,EAAYZ,EAAM,IAAI,EACjDY,EAAYZ,EAAM,KAAK,EAC5BW,EAAkBR,CAAa,CACjC,CAAC,EAEDD,EAAiB,UAAU,OAAO,WAAW,CAC/C,CAEO,SAASgB,GAAiB,SAC/B,MAAMC,EAAc,OAAO,aAAa,QAAQ,OAAO,EACnDA,EAAaP,EAAYO,CAAW,GAG/BC,EAAA,OAAO,WAAW,8BAA8B,IAAhD,MAAAA,EAAmD,QAASR,EAAYZ,EAAM,IAAI,GAClFqB,EAAA,OAAO,WAAW,+BAA+B,IAAjD,MAAAA,EAAoD,SAAST,EAAYZ,EAAM,KAAK,CAC/F,CClDA,SAASsB,GAA0B,CACjC,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EAC7C,GAAI,CAACA,EAAO,OAEK,IAAI,eAAe,IAAM,CACpC,OAAO,WAAa,KAClBA,EAAM,QAAU,SAClBA,EAAM,MAAM,SAAW,GAAGA,EAAM,YAAc,GAAI,KAEpDf,EAAiB,EAAI,IAErBe,EAAM,MAAM,SAAW,OACvBf,EAAiB,EAAK,EAE1B,CAAC,EAEQ,QAAQ,SAAS,IAAI,EAE9BA,EAAiB,OAAO,WAAa,GAAG,CAC1C,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDc,EAAuB,EACvBN,EAAgB,CAClB,CAAC,EC3BKE,EAAc"}